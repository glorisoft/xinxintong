<div ng-controller="ctrlViewSchema">
	<div class="panel panel-default">
		<div class="panel-heading">
			登记项
		</div>
		<div class="panel-body">
            <div class='list-group-item' ng-repeat='r in dataSchemas'>
                <div class="form-group">
                    <span>{{r.schema.title}}</span>
                    <button class='btn btn-default btn-xs pull-right' ng-click='removeSchema(dataSchemas.record.schemas,s)'><span class='glyphicon glyphicon-remove'></span></button>
                </div>
                <div class="form-group">
                    <div class='checkbox'>
                        <label><input type='checkbox' name='inline' ng-true-value="'Y'" ng-false-value="'N'" ng-model='r.inline'>标题与数据在同一行</label>
                        <label><input type='checkbox' name='splitLine' ng-true-value="'Y'" ng-false-value="'N'" ng-model='r.splitLine'>显示分割线</label>
                    </div>
                </div>
            </div>
		</div>
	</div>
	<div class="panel panel-default">
		<div class="panel-heading">
			登记清单
		</div>
		<div class="panel-body">
            <div class='list-group-item' ng-repeat='l in dataSchemas'>
                <div class="form-group">
                    <div class='radio' style='margin-top:0'>
                        <label><input type='radio' value='U' name='scope' ng-model='l.dataScope'>当前用户</label>
                        <label><input type='radio' value='A' name='scope' ng-model='l.dataScope'>整个活动</label>
                        <label><input type='radio' value='I' name='scope' ng-model='l.dataScope'>当前用户邀请的</label>
                    </div>
                    <div class='help-block'>数据范围</div>
                </div>
                <div class="form-group">
                    <select class='form-control' ng-model='l.onclick'>
                        <option value=''>不处理</option>
                        <option value='{{p.name}}' ng-repeat='p in app.pages'>{{p.title}}</option>
                    </select>
                    <div class='help-block'>选中后跳转到页面</div>
                </div>
                <div class="form-group">
                    <ul class='list-group' style='overflow-y:auto;max-height:245px;margin-bottom:0'>
                        <li class='list-group-item slim' ng-repeat='s in l.schemas'>
                            <span>{{s.title}}</span>
                            <button class='btn btn-default btn-xs pull-right' ng-click='removeSchema(l.schemas,s)'><span class='glyphicon glyphicon-remove'></span></button>
                        </li>
                    </ul>
                </div>
            </div>
		</div>
	</div>
    <div class='list-group form-group'>
        <div class='list-group-item' ng-repeat="s in actSchemas">
            <span ng-bind='s.label'></span>
            <button class='btn btn-default btn-xs pull-right' ng-click='removeAct(s)'><span class='glyphicon glyphicon-remove'></span></button>
        </div>
    </div>
</div>